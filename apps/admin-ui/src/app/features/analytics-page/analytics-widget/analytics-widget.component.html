@if (stats) {
  <div class="analytics-widget">
    <mat-card class="mb-4">
      <mat-card-title>Board Analytics</mat-card-title>
      <mat-card-content>
        <p>Total Tasks: {{ stats.totalTasks }}</p>
        <p>
          Average Completion Time:
          {{ stats.averageCompletionTime | number: '1.1-1' }} hrs
        </p>
      </mat-card-content>
    </mat-card>

    <mat-card class="mb-4">
      <mat-card-title>Tasks per Status</mat-card-title>
      <mat-card-content>
        <canvas
          baseChart
          [data]="statusChartData"
          [type]="'bar'"
          [options]="{
            responsive: true,
            plugins: { legend: { display: false } }
          }"
        >
        </canvas>
      </mat-card-content>
    </mat-card>

    <mat-card>
      <mat-card-title>Tasks per User</mat-card-title>
      <mat-card-content>
        <canvas
          baseChart
          [data]="userChartData"
          [type]="'pie'"
          [options]="{ responsive: true }"
        >
        </canvas>
      </mat-card-content>
    </mat-card>
  </div>
}
